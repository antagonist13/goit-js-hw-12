{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport async function getImages(query) {\nconst BASE_URL = 'https://pixabay.com';\nconst END_POINT = '/api/';\nconst searchParams = new URLSearchParams({\n        key:'43176233-1ec673b2575ffa542635b4c36',\n        q: `${query}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n});\n    const url = `${BASE_URL}${END_POINT}?${searchParams}`;\n    const res = await axios.get(url)\n    return res.data\n}\n","export function createMarkup ({ largeImageURL, webformatURL, tags, likes, views, comments, downloads })\n{\n    return`<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n  <div class=\"description\">\n  <div class=\"img-info\">\n  <span class=\"description-text\">Likes</span>\n  <p class=\"small-text\">${likes}</p>\n</div>\n<div class=\"img-info\">\n  <span class=\"description-text\">Views</span>\n  <p class=\"small-text\">${views}</p>\n</div>\n<div class=\"img-info\">\n  <span class=\"description-text\">Comments</span>\n  <p class=\"small-text\">${comments}</p>\n</div>\n<div class=\"img-info\">\n  <span class=\"description-text\">Downloads</span>\n  <p class=\"small-text\">${downloads}</p>\n</div>\n</div>\n</li>`\n}\n\n\n","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api'\nimport { createMarkup } from './js/render-functions'\n\nconst gallery = document.querySelector(\".gallery\")\nconst searchForm = document.querySelector(\".gallery-form\")\nconst searchInput = document.querySelector(\".search-window\")\nconst loadingIndicator = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', async (event) => {\n    event.preventDefault()\n    loadingIndicator.style.display = 'block'\n\n    try {\n        const el = await imgCreating()\n     const imgList =  el.hits\n        if (imgList.length === 0) {\n            iziToast.error({\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            position: 'topRight'\n            });\n        }\n    gallery.innerHTML = imgTemplate(imgList)\n    let lightbox = new SimpleLightbox('.gallery li a', { captionsData: 'alt', captionsDelay: 250 });\n        lightbox.refresh()\n    loadingIndicator.style.display = 'none'\n    } catch (error) {\n        console.log(error)\n    }\n    searchInput.value = ''\n    \n        \n    }\n)\n\n\nfunction imgCreating() {\n    const img = getImages(searchInput.value)\n    return img\n}\nfunction imgTemplate(arr) {\n    return arr.map(createMarkup).join('');\n             \n}\n"],"names":["getImages","query","BASE_URL","END_POINT","searchParams","url","axios","createMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","gallery","searchForm","searchInput","loadingIndicator","event","imgList","imgCreating","iziToast","imgTemplate","SimpleLightbox","error","arr"],"mappings":"owBACO,eAAeA,EAAUC,EAAO,CACvC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAe,IAAI,gBAAgB,CACjC,IAAI,qCACJ,EAAG,GAAGH,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAC,EACSI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAY,GAEnD,OADY,MAAME,EAAM,IAAID,CAAG,GACpB,IACf,CCdO,SAASE,EAAc,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EACtG,CACI,MAAM;AAAA,kCACwBN,CAAa;AAAA;AAAA;AAAA,aAGlCC,CAAY;AAAA,aACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAMSC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0BAIRC,CAAS;AAAA;AAAA;AAAA,MAInC,CCpBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAmB,SAAS,cAAc,SAAS,EAEzDF,EAAW,iBAAiB,SAAU,MAAOG,GAAU,CACnDA,EAAM,eAAgB,EACtBD,EAAiB,MAAM,QAAU,QAEjC,GAAI,CAEH,MAAME,GADQ,MAAMC,EAAa,GACb,KACbD,EAAQ,SAAW,GACnBE,EAAS,MAAM,CACf,QAAS,2EACT,SAAU,UACtB,CAAa,EAETP,EAAQ,UAAYQ,EAAYH,CAAO,EACxB,IAAII,EAAe,gBAAiB,CAAE,aAAc,MAAO,cAAe,GAAG,CAAE,EACjF,QAAS,EACtBN,EAAiB,MAAM,QAAU,MAChC,OAAQO,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CACDR,EAAY,MAAQ,EAGnB,CACL,EAGA,SAASI,GAAc,CAEnB,OADYrB,EAAUiB,EAAY,KAAK,CAE3C,CACA,SAASM,EAAYG,EAAK,CACtB,OAAOA,EAAI,IAAInB,CAAY,EAAE,KAAK,EAAE,CAExC"}