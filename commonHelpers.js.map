{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\nconst BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const searchParams = new URLSearchParams({\n        key:'43176233-1ec673b2575ffa542635b4c36',\n        q: `${query}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n});\n    const url = `${BASE_URL}${END_POINT}?${searchParams}`;\n    const options = {\n        'Content-Type': 'application/json',\n    }\n\nreturn fetch(url, options).then(res => res.json())\n}\n\n","export function createMarkup ({ largeImageURL, webformatURL, tags, likes, views, comments, downloads })\n{\n    return`<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n  <div class=\"description\">\n  <div class=\"img-info\">\n  <span class=\"description-text\">Likes</span>\n  <p class=\"small-text\">${likes}</p>\n</div>\n<div class=\"img-info\">\n  <span class=\"description-text\">Views</span>\n  <p class=\"small-text\">${views}</p>\n</div>\n<div class=\"img-info\">\n  <span class=\"description-text\">Comments</span>\n  <p class=\"small-text\">${comments}</p>\n</div>\n<div class=\"img-info\">\n  <span class=\"description-text\">Downloads</span>\n  <p class=\"small-text\">${downloads}</p>\n</div>\n</div>\n</li>`\n}\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api'\nimport { createMarkup } from './js/render-functions'\n\nconst gallery = document.querySelector(\".gallery\")\nconst searchForm = document.querySelector(\".gallery-form\")\nconst searchInput = document.querySelector(\".search-window\")\nconst loadingIndicator = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault()\n    loadingIndicator.style.display = 'block'\n    imgCreating().then(el => {;\n        const imgList = el.hits\n        if (imgList.length === 0) {\n            iziToast.error({\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            position: 'topRight'\n        });\n        }\n            gallery.innerHTML = imgTemplate(imgList)\n            let lightbox = new SimpleLightbox('.gallery li a', { captionsData: 'alt', captionsDelay: 250 });\n            lightbox.refresh()\n        }).then(data => {\n            loadingIndicator.style.display = 'none'\n        }).catch(error => console.log(error))\n        searchInput.value = ''\n    }\n)\nfunction imgCreating() {\n    const img = getImages(searchInput.value)\n    return img\n}\nfunction imgTemplate(arr) {\n    return arr.map(createMarkup).join('');\n             \n}\n"],"names":["getImages","query","BASE_URL","END_POINT","searchParams","url","res","createMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","gallery","searchForm","searchInput","loadingIndicator","event","imgCreating","el","imgList","iziToast","imgTemplate","SimpleLightbox","data","error","arr"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CACjC,MAAMC,EAAW,sBACPC,EAAY,QACZC,EAAe,IAAI,gBAAgB,CACrC,IAAI,qCACJ,EAAG,GAAGH,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAC,EACSI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAY,GAKvD,OAAO,MAAMC,EAJO,CACZ,eAAgB,kBACnB,CAEoB,EAAE,KAAKC,GAAOA,EAAI,MAAM,CACjD,CChBO,SAASC,EAAc,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EACtG,CACI,MAAM;AAAA,kCACwBN,CAAa;AAAA;AAAA;AAAA,aAGlCC,CAAY;AAAA,aACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAMSC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0BAIRC,CAAS;AAAA;AAAA;AAAA,MAInC,CCrBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAmB,SAAS,cAAc,SAAS,EAEzDF,EAAW,iBAAiB,SAAWG,GAAU,CAC7CA,EAAM,eAAgB,EACtBD,EAAiB,MAAM,QAAU,QACjCE,EAAW,EAAG,KAAKC,GAAM,CACrB,MAAMC,EAAUD,EAAG,KACfC,EAAQ,SAAW,GACnBC,EAAS,MAAM,CACf,QAAS,2EACT,SAAU,UACtB,CAAS,EAEGR,EAAQ,UAAYS,EAAYF,CAAO,EACxB,IAAIG,EAAe,gBAAiB,CAAE,aAAc,MAAO,cAAe,GAAG,CAAE,EACrF,QAAS,CAC9B,CAAS,EAAE,KAAKC,GAAQ,CACZR,EAAiB,MAAM,QAAU,MAC7C,CAAS,EAAE,MAAMS,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCV,EAAY,MAAQ,EACvB,CACL,EACA,SAASG,GAAc,CAEnB,OADYpB,EAAUiB,EAAY,KAAK,CAE3C,CACA,SAASO,EAAYI,EAAK,CACtB,OAAOA,EAAI,IAAIrB,CAAY,EAAE,KAAK,EAAE,CAExC"}